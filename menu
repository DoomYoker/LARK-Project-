#!/bin/bash

location=$PWD
collected=$location/collected

function reset_var () {	
bridgeraise="no"
priority=0
attack=5
health=20
defense=0




export bridgeraise
export health
export priority
export attack
export defense
export location
export name
export collected
}

function move_items() {
  cp $location/collection/.talisman $location/collection/talisman 2>/dev/null
  mv $location/collection/talisman $location/collected 2>/dev/null
  rm $location/collection/.talisman 2>/dev/null
  cp $location/collection/.excalibur $location/collection/excalibur 2>/dev/null
  mv $location/collection/excalibur $location/collected 2>/dev/null
  rm $location/collection/.excalibur 2>/dev/null
  cp $location/collection/.skull-key $location/collection/skull-key 2>/dev/null
  mv $location/collection/skull-key $location/collected 2>/dev/null
  rm $location/collection/.skull-key 2>/dev/null
  cp $location/collection/.centaur $location/collection/centaur 2>/dev/null
  mv $location/collection/centaur $location/collected 2>/dev/null
  rm $location/collection/.centaur 2>/dev/null
  cp $location/collection/.griffen $location/collection/griffen 2>/dev/null
  mv $location/collection/griffen $location/collected 2>/dev/null
  rm $location/collection/.griffen 2>/dev/null
  cp $location/collection/.egg $location/collection/egg 2>/dev/null
  mv $location/collection/egg $location/collected 2>/dev/null
  rm $location/collection/.egg 2>/dev/null
  cp $location/collection/.spell $location/collection/spell 2>/dev/null
  mv $location/collection/spell $location/collected 2>/dev/null
  rm $location/collection/.spell 2>/dev/null
  cp $location/collection/.skeleton $location/collection/skeleton 2>/dev/null
  mv $location/collection/skeleton $location/collected 2>/dev/null
  rm $location/collection/.skeleton 2>/dev/null
  cp $location/collection/.imp $location/collection/imp 2>/dev/null
  mv $location/collection/imp $location/collected 2>/dev/null
  rm $location/collection/.imp 2>/dev/null
  cp $location/collection/.phoenix $location/collection/phoenix 2>/dev/null
  mv $location/collection/phoenix $location/collected 2>/dev/null
  rm $location/collection/.phoenix 2>/dev/null
  cp $location/collection/.ladyofthelake $location/collection/ladyofthelake 2>/dev/null
  mv $location/collection/ladyofthelake $location/collected 2>/dev/null
  rm $location/collection/.ladyofthelake 2>/dev/null
  cp $location/collection/.merlin $location/collection/merlin 2>/dev/null
  mv $location/collection/merlin $location/collected 2>/dev/null
  rm $location/collection/.merlin 2>/dev/null
  cp $location/collection/.siren $location/collection/siren 2>/dev/null
  mv $location/collection/siren $location/collected 2>/dev/null
  rm $location/collection/.siren 2>/dev/null
  cp $location/collection/.basilisk $location/collection/basilisk 2>/dev/null
  mv $location/collection/basilisk $location/collected 2>/dev/null
  rm $location/collection/.basilisk 2>/dev/null
}
amulet() { less "$location/scripts/listofcommands"; }
function equip() { 
	echo "Enter armor to be equipped (if it is inside of collected)"
echo "
0. none
1. +rusted-platemail
2. +platemail
3. +blessed-platemail
"
read choice
case $choice in
	0)
	echo "no change in defense"
	;;
	1)
		if [ -e "$collected/+rusted-platemail" ]
		then
		defense += 2
		echo "Defense increased"
		rm $collected/$1
		else 
		echo "The chosen platemail is not currently collected"
		fi
	;;
	2)
		if [ -e "$collected/+platemail" ]
		then 
		defense += 4
		echo "Defense increased"
		rm $collected/+platemail
		else 
		echo "The chosen platemail is not currently collected"
		fi
	;;
	3)
		if [ -e "$collected/+blessed-platemail" ]
		then
		defense += 6
		echo "Defense increased"
		rm $collected/$1
		else 
		echo "The chosen platemail is not currently collected"
		fi
	;;
}
#function quit() {}

tput smcup
while [[ $REPLY != "c" ]]
do
clear 
cat <<EOF                                                                                    
 _                                    _           __   _____                                     _  _ 
| |                                  | |        /  _| /  __ \                                   | || |
| |      ___   __ _   ___  _ __    __| |   ___  | |_  | /  \/  ___   _ __  _ __ __      __ __ _ | || |
| |     / _ \ / _  | / _ \|  _ \  / _  |  / _ \ |  _| | |     / _ \ |  __||  _  \\ \ /\ / // _  || || |
| |____|  __/| (_| ||  __/| | | || (_| | | (_) || |   | \__/\| (_) || |   | | | |\ V  V /| (_| || || |
\_____/ \___| \__, | \___||_| |_| \__,_|  \___/ |_|    \____/ \___/ |_|   |_| |_| \_/\_/  \__,_||_||_|
               __/ |                                                                                  
              |___/     
	     	      		              Menu
					~~~~~~~~~~~~~~~~~
					a. Start Game
					b. About Game
					c. Quit


EOF
	read -p "Enter choice [a-c]: " choice
	#move_items
	reset_var
	
	case $choice in 
	a) echo "Your Story can now begin"
	sleep 1;
	read -p "Enter a name of the Legend: " name
	
	sleep 1;
	echo "Excellent. Now it is time to tell the story of our new hero $name."
	sleep 1;
	echo "(If at any point you need to exit the game, just type quit.)"
	sleep 1;
	echo "press any button to continue"
	read hi
	echo "(This game does require you to search around for items. Make sure to pick them up along the way, as they will be needed for you to continue on your journey.)"
	. .start
	;;
	b) clear 
	echo "Legend of Cornwall is a terminal based game that was made to showcase a few basics commands used in the linux terminal."
	sleep 1;
	echo "This is done so that the player can learn a bit about how to utilize the bash shell in an entertaining way."
	sleep 1;
	echo "your goal as the hero of this story is to explore this mystical forest and confront the evil being causing more and more evils to infect this peaceful land."
	sleep 1;
	echo "If you wish to avoid seeing and altering any of the game code be sure to follow the games instructions."
	sleep 1;
	echo "Press any button to select a different option"
	read hi
	
	;;
	c) 
	tput rmcup
	echo "Exiting Game"
	sleep 1;
	break
	;;
	*) echo "Invalid Option: Press any button to return then make sure to enter only [a-c] for this menu. "
	read hi
	;;
esac
done
