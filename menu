#!/bin/bash

location=$PWD

function reset_var () {	
priority="0"
attack="5"
health="20"
defense="1"
talisman="no"
excalibur="no"
skullKey="no"
centaur="no"
egg="no"
griffen="no"
spell="no"
skeleton="no"
ladyofthelake="no"
phoenix="no"
merlin="no"
merlintalk="no"
siren="no"
basilisk="no"

export health
export attack
export defense
export location
export name
export talisman
export excalibur
export skullKey
export centaur
export griffen
export egg
export spell
export skeleton
export imp
export phoenix
export ladyofthelake
export merlin
export merlintalk
export siren
export basilisk
}

function move_items() {
  cp $location/collection/.talisman $location/collection/talisman 2>/dev/null
  mv $location/collection/talisman $location/collected 2>/dev/null
  rm $location/collection/.talisman 2>/dev/null
  cp $location/collection/.excalibur $location/collection/excalibur 2>/dev/null
  mv $location/collection/excalibur $location/collected 2>/dev/null
  rm $location/collection/.excalibur 2>/dev/null
  cp $location/collection/.skull-key $location/collection/skull-key 2>/dev/null
  mv $location/collection/skull-key $location/collected 2>/dev/null
  rm $location/collection/.skull-key 2>/dev/null
  cp $location/collection/.centaur $location/collection/centaur 2>/dev/null
  mv $location/collection/centaur $location/collected 2>/dev/null
  rm $location/collection/.centaur 2>/dev/null
  cp $location/collection/.griffen $location/collection/griffen 2>/dev/null
  mv $location/collection/griffen $location/collected 2>/dev/null
  rm $location/collection/.griffen 2>/dev/null
  cp $location/collection/.egg $location/collection/egg 2>/dev/null
  mv $location/collection/egg $location/collected 2>/dev/null
  rm $location/collection/.egg 2>/dev/null
  cp $location/collection/.spell $location/collection/spell 2>/dev/null
  mv $location/collection/spell $location/collected 2>/dev/null
  rm $location/collection/.spell 2>/dev/null
  cp $location/collection/.skeleton $location/collection/skeleton 2>/dev/null
  mv $location/collection/skeleton $location/collected 2>/dev/null
  rm $location/collection/.skeleton 2>/dev/null
  cp $location/collection/.imp $location/collection/imp 2>/dev/null
  mv $location/collection/imp $location/collected 2>/dev/null
  rm $location/collection/.imp 2>/dev/null
  cp $location/collection/.phoenix $location/collection/phoenix 2>/dev/null
  mv $location/collection/phoenix $location/collected 2>/dev/null
  rm $location/collection/.phoenix 2>/dev/null
  cp $location/collection/.ladyofthelake $location/collection/ladyofthelake 2>/dev/null
  mv $location/collection/ladyofthelake $location/collected 2>/dev/null
  rm $location/collection/.ladyofthelake 2>/dev/null
  cp $location/collection/.merlin $location/collection/merlin 2>/dev/null
  mv $location/collection/merlin $location/collected 2>/dev/null
  rm $location/collection/.merlin 2>/dev/null
  cp $location/collection/.siren $location/collection/siren 2>/dev/null
  mv $location/collection/siren $location/collected 2>/dev/null
  rm $location/collection/.siren 2>/dev/null
  cp $location/collection/.basilisk $location/collection/basilisk 2>/dev/null
  mv $location/collection/basilisk $location/collected 2>/dev/null
  rm $location/collection/.basilisk 2>/dev/null
}
talisman() { less "$location/scripts/commandList"; }
function equip() { 
if ( $1 = "~rusted-platemail" )
then
defense="0.7"
echo "Defense increased"
rm $collected/$1 
elif ( $1 = "~platemail" )
then 
defense="0.5"
echo "Defense increased"
rm $collected/$1 
elif ( $1 = "~blessed-platemail" )
then
defense="0.3"
echo "Defense increased"
rm $collected/$1 
else 
	echo" Invalid equip try equipping a piece of platemail"
fi
}
collected=$location/collected
tput smcup
while [[ $REPLY != "c" ]]
do
clear 
cat <<EOF                                                                                    
 _                                    _           __   _____                                     _  _ 
| |                                  | |         / _| /  __ \                                   | || |
| |      ___   __ _   ___  _ __    __| |   ___  | |_  | /  \/  ___   _ __  _ __ __      __ __ _ | || |
| |     / _ \ / _` | / _ \| '_ \  / _` |  / _ \ |  _| | |     / _ \ | '__|| '_ \\ \ /\ / // _` || || |
| |____|  __/| (_| ||  __/| | | || (_| | | (_) || |   | \__/\| (_) || |   | | | |\ V  V /| (_| || || |
\_____/ \___| \__, | \___||_| |_| \__,_|  \___/ |_|    \____/ \___/ |_|   |_| |_| \_/\_/  \__,_||_||_|
               __/ |                                                                                  
              |___/     
	     	      		              Menu
					~~~~~~~~~~~~~~~~~
					a. Start Game
					b. About Game
					c. Quit


EOF
	read -p "Enter choice [a-c]: " choice
	#move_items
	reset_var
	
	case $choice in 
	a) echo "Your Story can now begin"
	sleep 1;
	read -p "Enter a name of the Legend: " name
	
	sleep 1;
	echo "Excellent. Now it is time to tell the story of our new hero $name."
	sleep 1;
	echo "(If at any point you need to exit the game, just type _____.)"
	sleep 1;
	echo "(This game does require you to search around for items. Make sure to pick them up along the way, as they will be needed for you to continue on your journey.)"
	. .start
	;;
	b) clear 
	echo "___________ is a terminal based game that was made to showcase a few basics commands used in the linux terminal.
	This is done so that the player can learn a bit about how to utilize the bash shell in an entertaining way.
	To begin the game be sure to choose option a). After choosing option a) your goal as the hero of this story is to explore this mystical forest and confront the evil being causing more and more evils to infect this peaceful land.
	
	If you wish to avoid seeing and altering any of the game code be sure to follow the games instructions."
	sleep 1;
	echo "Press any button to select a different option"
	read
	
	;;
	c) 
	tput rmcup
	echo "Exiting Game"
	break
	;;
	*) echo "Invalid Option: Press any button to return then make sure to enter only [a-c] for this menu. "
	read
	;;
esac
done
